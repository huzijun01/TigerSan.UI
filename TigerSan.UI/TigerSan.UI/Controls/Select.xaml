<UserControl
    x:Class="TigerSan.UI.Controls.Select"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:local="clr-namespace:TigerSan.UI.Controls"
    mc:Ignorable="d" 
    d:DesignWidth="200"
    d:DesignHeight="100">

    <UserControl.Resources>
        <ResourceDictionary Source="/TigerSan.UI;component/Windows/MenuWindowStyle.xaml" />
    </UserControl.Resources>

    <Grid
        VerticalAlignment="Center"
        HorizontalAlignment="Stretch"
        d:DataContext="{StaticResource SelectDesignData}"
        DataContext="{Binding RelativeSource={RelativeSource AncestorType=UserControl}}">
        <!--  背景：  -->
        <Border
            BorderBrush="{Binding BorderBrush}"
            Style="{StaticResource SelectBorderStyle}"/>

        <Grid Margin="15,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!--  占位文本：  -->
            <TextBlock
                Text="{Binding Placeholder}"
                Visibility="{Binding PlaceholderVisibility}"
                Style="{StaticResource SelectPlaceholderTextBlockStyle}"/>

            <!--  文本：  -->
            <TextBlock
                Text="{Binding Text}"
                Style="{StaticResource SelectContentTextBlockStyle}"/>

            <!--  箭头：  -->
            <TextBlock
                x:Name="Arrow"
                Grid.Column="1"
                Text="&#xe603;"
                Margin="8,0,0,0"
                FontFamily="{StaticResource Iconfont}"
                Style="{StaticResource SelectPlaceholderTextBlockStyle}">
                <TextBlock.RenderTransform>
                    <RotateTransform
                        CenterX="15"
                        CenterY="15"
                        Angle="{Binding ArrowAngle}" />
                </TextBlock.RenderTransform>
            </TextBlock>
        </Grid>

        <!--  遮罩：  -->
        <Border
            x:Name="Mask"
            Grid.ColumnSpan="2"
            Background="Transparent"
            Cursor="{Binding Cursor}">
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="MouseEnter">
                    <prism:InvokeCommandAction Command="{Binding Mask_MouseEnterCommand}" />
                </i:EventTrigger>
                <i:EventTrigger EventName="MouseLeave">
                    <prism:InvokeCommandAction Command="{Binding Mask_MouseLeaveCommand}" />
                </i:EventTrigger>
                <i:EventTrigger EventName="MouseLeftButtonDown">
                    <prism:InvokeCommandAction Command="{Binding Mask_MouseLeftButtonDownCommand}" />
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </Border>
    </Grid>
</UserControl>
