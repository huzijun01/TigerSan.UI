<ResourceDictionary
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:windows="clr-namespace:TigerSan.UI.Windows"
    xmlns:panels="clr-namespace:TigerSan.UI.Panels">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/TigerSan.UI;component/Styles/Global/Global.xaml"/>
        <ResourceDictionary Source="/TigerSan.UI;component/Styles/TextBoxStyle.xaml"/>
        <ResourceDictionary Source="/TigerSan.UI;component/Windows/CustomWindowStyle.xaml"/>
    </ResourceDictionary.MergedDictionaries>

    <!-- 对话框： -->
    <Style x:Key="DialogWindowStyle" TargetType="{x:Type windows:DialogWindow}">
        <Setter Property="Width" Value="1280" />
        <Setter Property="Height" Value="720" />
        <Setter Property="MinWidth" Value="200" />
        <Setter Property="MinHeight" Value="100" />
        <Setter Property="MaxWidth" Value="1280" />
        <Setter Property="MaxHeight" Value="720" />
        <Setter Property="Topmost" Value="True" />
        <Setter Property="WindowStyle" Value="None" />
        <Setter Property="AllowsTransparency" Value="True" />
        <Setter Property="FontSize" Value="{StaticResource Global.Content.FontSize}" />
        <Setter Property="CloseButtonForeground" Value="{StaticResource Colors.BasicWhite}" />
        <Setter Property="WindowChrome.WindowChrome" Value="{StaticResource CustomWindowChrome}" />
        <Setter Property="Template">
            <Setter.Value>
                <!--  模板：  -->
                <ControlTemplate TargetType="{x:Type windows:DialogWindow}">
                    <Grid
                        x:Name="mainPanel"
                        Visibility="{TemplateBinding MainPanelVisibility}"
                        DataContext="{Binding RelativeSource={RelativeSource AncestorType={x:Type windows:DialogWindow}}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!--  背景：  -->
                        <Border
                            x:Name="background"
                            Grid.RowSpan="3"
                            CornerRadius="5"
                            BorderThickness="1"
                            BorderBrush="{TemplateBinding TitleBackground}"
                            Background="{DynamicResource Colors.BaseFill}"/>

                        <!--  标题：  -->
                        <Border
                            x:Name="titlePanel"
                            Padding="20,10"
                            Background="{TemplateBinding TitleBackground}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center"
                                    Text="{TemplateBinding Title}"
                                    FontSize="{DynamicResource Global.Title.FontSize}"
                                    Foreground="{DynamicResource Colors.PrimaryText}"/>
                                <Button
                                    x:Name="btnClose"
                                    Content="{StaticResource Icons.Close.Thin}"
                                    Grid.Column="1"
                                    HorizontalAlignment="Right"
                                    Command="{Binding Path=btnClose_ClickCommand}"
                                    FontFamily="{DynamicResource Iconfont}"
                                    Foreground="{TemplateBinding CloseButtonForeground}"
                                    Style="{DynamicResource LableButtonStyle}"/>
                            </Grid>
                        </Border>

                        <!--  内容：  -->
                        <ScrollViewer
                            x:Name="contentPanel"
                            Grid.Row="1"
                            Padding="20"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center"
                            HorizontalScrollBarVisibility="Auto">
                            <TextBox
                                x:Name="content"
                                IsReadOnly="True"
                                Text="{TemplateBinding Text}"
                                Style="{StaticResource NoBorderTextBoxStyle}"/>
                        </ScrollViewer>

                        <!--  按钮：  -->
                        <Border
                            x:Name="buttonPanel"
                            Grid.Row="2"
                            Padding="20,10,20,20"
                            Visibility="{TemplateBinding ButtonPanelVisibility}">
                            <panels:HorizontalAveragePanel GapX="20">
                                <Button
                                    x:Name="btnYes"
                                    Content="{TemplateBinding TextYes}"
                                    Command="{Binding Path=btnYes_ClickCommand}"
                                    Background="{DynamicResource Colors.Success}"
                                    Visibility="{TemplateBinding YesButtonVisibility}"/>
                                <Button
                                    x:Name="btnNo"
                                    Content="{TemplateBinding TextNo}"
                                    Command="{Binding Path=btnNo_ClickCommand}"
                                    Background="{DynamicResource Colors.Danger}"
                                    Visibility="{TemplateBinding NoButtonVisibility}"/>
                            </panels:HorizontalAveragePanel>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>